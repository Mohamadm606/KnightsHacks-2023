<html>
  <head>
    <title>Simple Map</title>
    <style>
    #map {
      height: 100%;
    }
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default">
      
    </script>

    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script type="module" src="./index.js"></script>
  </head>
  <body>
    <div id="map"></div>

    
    <script>
      let map;
      async function initMap() {
        try {
          const googleMaps = await google.maps.importLibrary("maps");
  
          map = new googleMaps.Map(document.getElementById("map"), {
            center: { lat: 37.0902, lng: -95.7129 },
            zoom: 4,
          });
  
          const drawingManager = new google.maps.drawing.DrawingManager({
            drawingMode: google.maps.drawing.OverlayType.MARKER,
            drawingControl: true, // Enable the drawing control panel
            drawingControlOptions: {
              position: google.maps.ControlPosition.TOP_CENTER,
              drawingModes: [
                google.maps.drawing.OverlayType.MARKER,
                google.maps.drawing.OverlayType.CIRCLE,
                google.maps.drawing.OverlayType.POLYGON,
                google.maps.drawing.OverlayType.POLYLINE,
                google.maps.drawing.OverlayType.RECTANGLE,
              ],
            },
            markerOptions: {
              icon: "https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png",
            },
            circleOptions: {
              fillColor: "#ffff00",
              fillOpacity: 1,
              strokeWeight: 5,
              clickable: false,
              editable: true,
              zIndex: 1,
            },
          });
  
          drawingManager.setMap(map);
        } catch (error) {
          console.error("Error loading Google Maps:", error);
        }
      }
  
      (function () {
        const script = document.createElement("script");
        script.type = "text/javascript";
        script.src = `https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&v=weekly&callback=initMap&libraries=places,drawing`;
        script.async = true;
        script.defer = true;
        document.head.appendChild(script);
      })();
    </script>
  </body>
</html>
